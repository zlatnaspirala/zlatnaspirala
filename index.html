
<!doctype html> 
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<title>3d First person mobile/desktop web application</title>
		<style type="text/css">
			body { background-color: #000000; margin: 0px; overflow: hidden; }
		</style>
		<script type="text/javascript" src="TypingText/d.js"></script>
		<script type="text/javascript" src="TypingText/TypingText.js">
		/****************************************************
		* Typing Text script- By Twey @ Dynamic Drive Forums
		* Visit Dynamic Drive for this script and more: http://www.dynamicdrive.com
		* This notice MUST stay intact for legal use
		****************************************************/
		</script>
	</head>
	<body style="margin:0;padding:0;">
		<div id="info" style="position:absolute;right:20px;bottom:50px;">
		<!-- Place this tag where you want the widget to render. -->
		<div class="g-page" data-width="180" data-href="//plus.google.com/104995352364512450253" data-rel="publisher"></div>

		<!-- Place this tag after the last widget tag. -->
		<script type="text/javascript">
		(function() {
		var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
		po.src = 'https://apis.google.com/js/plusone.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
		})();
		</script>
		
		</div>
	<div style="position:absolute;right:5px;top:10px;" ><img style="width:200px;height:70px;" src="images/nikola_lukic.png" /></div>
<div id="example1" style="font-size:25px;color:lime;
    text-shadow: rgba(10,255,255,0.8) 1px 4px 4px;" >Welcome here people, i have something to share!</div>
<p id="example2" style="font-size:21px;position:absolute;left:0;top:20;height:100%;overflow:visible;opacity:1;color:lime; text-shadow: rgba(10,255,111,0.8) 1px 4px 4px;" >FastMatrix created by <b>zlatnaspirala2</b> javascript framework.<br /><b>Implemented</b> First person camera controler, <br>multiplayer mode<br/>
realtime public chat<br/>
<b>For now , support for:</b><br/>
FireFox desktop, Chrome desktop, Opera desktop<br/>
FireFox mobile bowser for modern android devices!<br/>
Credits :<br/>
Textures : <a href="www.spiralgraphics.biz/">www.spiralgraphics.biz</a><br/>
Homepage webgl from  : <a href="http://www.mrdoob.com/">http://www.mrdoob.com/</a><br/>
Inspiration  : <a href="learningwebgl.com/‎">learningwebgl.com/‎</a><br/>
Networking  : <a href="jwebsocket.org‎">jwebsocket.org‎</a><br/>
Next post zlatnaspirala2 GUI application for windows.<br/>
About game<br/>
You will need google+ profile picture<br/>
Meet people around...<br/>
Thanks for visit !!!<br/>
</p>
	<div id="container" style="position:absolute;left:1px;top:1px;opacity:0.3"></div>
		<a id="PLAY" style="display:none;position:absolute;left:45%;top:30%;" href='project/index.html'><img src='images/play.png' style=''></a> 
<script>
if (PASS==1) {
document.getElementById("PLAY").style.display = "block";
document.getElementById("example1").style.fontSize = "35px";
}else {
alert("Your browser "+browser_name+" cant start this app<br/>Please use firefox mobile or desktop version.");
 
}
</script>

<script type="text/javascript">
//Define first typing example:
new TypingText(document.getElementById("example1"));

//Define second typing example (use "slashing" cursor at the end):
new TypingText(document.getElementById("example2"), 50, function(i){ var ar = new Array("\\", "|", "/", "-"); return " " + ar[i.length % ar.length]; });

//Type out examples:
TypingText.runAll();
</script>
	
	
		<script type="text/javascript">

			
			 if (browser_name == "android_nativ?"){ 
            var QUALITY = 1,
			WIDTH = Math.floor(window.innerWidth / QUALITY), HEIGHT = Math.floor(window.innerHeight / QUALITY), SIZE = WIDTH * HEIGHT,
			
			context, image, data,
			buffer1, buffer2, tempbuffer,

			isUserInteracting, pointers;


			 } else {
			var QUALITY = 12,
			WIDTH = Math.floor(window.innerWidth / QUALITY), HEIGHT = Math.floor(window.innerHeight / QUALITY), SIZE = WIDTH * HEIGHT,
			
			context, image, data,
			buffer1, buffer2, tempbuffer,

			isUserInteracting, pointers;
 
			 
			 }
			init();
			setInterval(loop, 1000 / 60);

			function init() {

				var container, canvas;
				
				container = document.getElementById('container');

				canvas = document.createElement("canvas");
				canvas.width = WIDTH;
				canvas.height = HEIGHT;
				canvas.style.width = window.innerWidth + "px";
				canvas.style.height = window.innerHeight + "px";
				//canvas.style.position = "absolute";
				//canvas.style.left = "0px";
				//canvas.style.top = window.innerHeight/10;
				container.appendChild(canvas);

				context = canvas.getContext("2d");
				context.fillStyle = "rgb(0, 1, 0)";
				context.fillRect (0, 0, WIDTH, HEIGHT);
				image = context.getImageData(0, 0, WIDTH, HEIGHT);
				data = image.data;

				buffer1 = [];
				buffer2 = [];
				
				for (var i = 0; i < WIDTH * HEIGHT; i ++) {

					buffer1[i] = 0;
					buffer2[i] = 0;

				}

				buffer2[ Math.floor(WIDTH / 2) + 1 + (Math.floor(HEIGHT / 2) * WIDTH)] = 20000;
				buffer2[ Math.floor(WIDTH / 2) - 1 + (Math.floor(HEIGHT / 2) * WIDTH)] = 20000;
				
				document.addEventListener('mousedown', onDocumentMouseDown, false);
				document.addEventListener('mousemove', onDocumentMouseMove, false);
				document.addEventListener('mouseup', onDocumentMouseUp, false);
				document.addEventListener('mouseout', onDocumentMouseOut, false);				
				
				document.addEventListener('touchstart', onDocumentTouchStart, false);
				document.addEventListener('touchmove', onDocumentTouchMove, false);
				document.addEventListener('touchend', onDocumentTouchEnd, false);		
				
				document.addEventListener('keyup', onDocumentKeyUp, false);
			}

			// Event Handlers

			function onDocumentMouseDown(event) {
			
				//event.preventDefault();
				
				isUserInteracting = true;
				
				pointers = [[event.clientX / QUALITY, event.clientY / QUALITY]];
			}

			function onDocumentMouseMove(event) {

				pointers = [[event.clientX / QUALITY, event.clientY / QUALITY]];
			}

			function onDocumentMouseUp(event) {
			
				isUserInteracting = false;
				
			}
			
			function onDocumentMouseOut(event) {
			
				isUserInteracting = false;
				
			}
			
			function onDocumentTouchStart(event) {
			
				isUserInteracting = true;
				
			//	event.preventDefault();

				pointers = [];
				
				for (var i = 0; i < event.touches.length; i++) {
				
					pointers.push([event.touches[i].pageX / QUALITY, event.touches[i].pageY / QUALITY]);
					
				}
				
			}
 
			function onDocumentTouchMove(event) {
			
				//event.preventDefault();

				pointers = [];
				
				for (var i = 0; i < event.touches.length; i++) {
				
					pointers.push([event.touches[i].pageX / QUALITY, event.touches[i].pageY / QUALITY]);
					
				}
				
			}
			
			function onDocumentTouchEnd(event) {
			
				event.preventDefault();
				
				isUserInteracting = false;
				
			}

			function onDocumentKeyUp(e) {

				emit( Math.random() * WIDTH, Math.random() * HEIGHT);

			}

			//

			function emit(x, y) {

				buffer2[ Math.floor(x) + (Math.floor(y) * WIDTH)] = 21;//ori 255

			}

			function loop() {

				if (isUserInteracting) {
					
					for (var i = 0; i < pointers.length; i++) {
						
						emit(pointers[i][0], pointers[i][1]);
						
					}
				}

				var pixel;
				var iMax = (WIDTH * HEIGHT) - WIDTH;
				
				for (var i = WIDTH; i < iMax; i ++) {

					pixel = ((buffer1[i - 1] + buffer1[i + 1] + buffer1[i - WIDTH] + buffer1[i + WIDTH]) >> 1) - buffer2[i];
					pixel -= pixel >> 20;

					buffer2[i] = pixel;
					
					pixel = pixel > 244 ? 244 : pixel < 0 ? 0 : pixel;

					data[ (i * 4) + 1 ] = pixel;
					data[ ((i + 1) * 4) + 2 ] = pixel;
					
				}

				tempbuffer = buffer1;
				buffer1 = buffer2;
				buffer2 = tempbuffer;

				context.putImageData(image, 0, 0);
				
			}
		
		</script>
	</body>
</html>
